var Gcomment=function(e){"use strict";!function(){if(!document.head.querySelector("style[data-styled-simcom]")){const e=document.createElement("style");e.setAttribute("data-styled-simcom",""),e.append(document.createTextNode('@charset "UTF-8";.simcom_ea2ea{display:flex}.simcom_ea2ea.simcom_8679e{pointer-events:none;cursor:default}.simcom_ea2ea .simcom_3e9c3{display:flex;align-items:center;justify-content:center;padding:.3rem;cursor:pointer;-webkit-user-select:none;user-select:none}.simcom_ea2ea .simcom_3e9c3.simcom_aa768{color:var(--simcom-c-main);pointer-events:none;cursor:default}.simcom_ea2ea .simcom_3e9c3:hover{color:var(--simcom-c-main)}.simcom_ea2ea.simcom_041c1{align-items:center;justify-content:center;width:100%}.simcom_cd28a{display:inline-flex;margin-right:3px;pointer-events:none}.simcom_bd1eb{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:.4rem .8rem;font-size:1em;line-height:1;color:var(--simcom-c-btn-text);white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--simcom-c-main);border:1px solid var(--simcom-c-main-light);border-radius:4px;outline:none;transition:.1s}.simcom_bd1eb.simcom_269d2{padding:0!important;color:var(--simcom-c-light);background:none!important;border:none;transition:.25s}.simcom_bd1eb.simcom_269d2:hover,.simcom_bd1eb.simcom_269d2.simcom_c0d40{color:var(--simcom-c-main)}.simcom_bd1eb.simcom_269d2:hover.simcom_8289f,.simcom_bd1eb.simcom_269d2.simcom_c0d40.simcom_8289f{color:var(--simcom-c-light)}.simcom_bd1eb>span{transition:all .35s}.simcom_bd1eb.simcom_3b7ef{color:var(--simcom-c-text);background-color:transparent;border-color:var(--simcom-c-border)}.simcom_bd1eb.simcom_3b7ef:hover{color:var(--simcom-c-main);background-color:transparent;border-color:var(--simcom-c-main)}.simcom_bd1eb.simcom_3b7ef:hover.simcom_8289f{color:var(--simcom-c-text);background-color:transparent;border-color:var(--simcom-c-border)}.simcom_bd1eb:hover,.simcom_bd1eb.simcom_8289f,.simcom_bd1eb.simcom_9a8c5{background-color:var(--simcom-c-main-light)}.simcom_bd1eb.simcom_8289f{cursor:not-allowed}.simcom_bd1eb.simcom_9a8c5>span{opacity:0}.simcom_be443{position:absolute;width:1em;height:1em;border:3px solid var(--simcom-c-btn-text);border-top-color:transparent;border-radius:50%;animation:simcom_5d03c 1s infinite linear}@keyframes simcom_5d03c{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.simcom_b616f{position:absolute;top:0;right:0;bottom:0;left:0;z-index:9;display:flex;align-items:center;justify-content:center}#simcom_1684b{position:relative}#simcom_1684b>div{display:inline-block;width:4px;height:32px;margin:0 2px;background-color:currentcolor;border-radius:0;animation:simcom_7e0fd 1.2s infinite ease}#simcom_1684b>div:nth-child(1){animation-delay:-1.2s}#simcom_1684b>div:nth-child(2){animation-delay:-1.1s}#simcom_1684b>div:nth-child(3){animation-delay:-1s}#simcom_1684b>div:nth-child(4){animation-delay:-.9s}#simcom_1684b>div:nth-child(5){animation-delay:-.8s}@keyframes simcom_7e0fd{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.simcom_f3564{display:flex;flex:1;flex-direction:column;padding-bottom:1rem;border-bottom:1px solid var(--simcom-c-border)}.simcom_f3564 .simcom_f4af2{display:flex;justify-content:space-between;color:var(--simcom-c-heavy)}.simcom_f3564 .simcom_f4af2 .simcom_1b373{padding:0 5px;margin:3px;font-size:.75em;line-height:1.8;color:var(--simcom-c-main);background:var(--simcom-c-hl-bg);border-radius:5px}.simcom_f3564 .simcom_f4af2>div{display:flex;align-items:center}.simcom_f3564 .simcom_ae87d{display:flex}.simcom_f3564 .simcom_ae87d>span{padding:0 5px;margin:3px;font-size:.875em;line-height:1.8;color:var(--simcom-c-light);border:1px solid var(--simcom-c-border);border-radius:5px}.simcom_f3564 .simcom_80091{display:flex;align-items:center;min-height:3rem;padding:.5em}.simcom_f3564 .simcom_b6675{margin-top:1em}.simcom_da6a8{display:flex;margin-bottom:1em}.simcom_19f43{color:var(--simcom-c-main)}.simcom_c41f1{margin-right:.4rem}.simcom_c41f1 img{width:2.8em;height:2.8em;margin-top:-.2em;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cGF0aCBmaWxsPSIjYzVjNWM1IiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48Y2lyY2xlIGN4PSIxMjcuNzUiIGN5PSIxMDkuNSIgcj0iNTYuNSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yMjcuNTMgMjU2SDI4LjQ3YzMuMTMtNDAuNSAyMS45OC03NS4zMSA0OC45LTk0Ljk2YTMuNzQgMy43NCAwIDAgMSA0LjguMzIgNjUuMzYxIDY1LjM2MSAwIDAgMCA5MS4yMS0uMyAzLjc0MiAzLjc0MiAwIDAgMSA0LjgtLjM1YzI3LjE1IDE5LjU4IDQ2LjIgNTQuNTYgNDkuMzUgOTUuMjl6IiBmaWxsPSIjZmZmIi8+PC9zdmc+);background-repeat:no-repeat;border-radius:50%;object-fit:cover}.simcom_ada44{font-size:.875em;opacity:.7}.simcom_e072d{display:flex;align-items:flex-start}.simcom_e072d .simcom_ada44{margin-right:.5em;line-height:1}.simcom_3d8bd{display:flex;flex-direction:column;margin-top:.4em}.simcom_3d8bd .simcom_c41f1 img{width:2em;height:2em;margin-top:-.1em;margin-left:-.8em}.simcom_3d8bd .simcom_80091{min-height:2rem;padding-top:.3rem}.simcom_3d8bd .simcom_80204{display:flex;flex:1}.simcom_3d8bd .simcom_e072d{opacity:0;transition:.3s}.simcom_3d8bd .simcom_e072d.simcom_9cef3,.simcom_3d8bd:hover .simcom_e072d{opacity:1}.simcom_94f53{position:relative}.simcom_94f53.simcom_b4e7a>.simcom_3d8bd{opacity:.5}.simcom_b10de{cursor:pointer}.simcom_b10de:hover{color:var(--simcom-c-main)}.simcom_192f0{margin-left:.5em;font-size:.875em;opacity:.6}.simcom_a0deb{max-height:0;overflow:hidden;opacity:0;transition:all .3s ease-in-out}.simcom_a0deb.simcom_4a1ca{max-height:6rem;opacity:1}.simcom_e6503{opacity:1;animation:simcom_ab398 .3s linear}@keyframes simcom_ab398{0%{opacity:0}to{opacity:1}}.simcom_7d147{display:flex;flex-direction:column}.simcom_7d147 .simcom_a61a1{display:flex;justify-content:space-between;margin-top:.6rem}.simcom_7d147 .simcom_e5b19 button{margin-left:8px}.simcom_2355b{position:relative;overflow:hidden;background-color:var(--simcom-c-textarea-bg);border:1px solid var(--simcom-c-border);border-radius:.5em}.simcom_2355b.simcom_02ece{border-color:var(--simcom-c-main)}.simcom_2355b textarea{box-sizing:border-box;display:inline-block;width:100%;height:6rem;padding:.8rem 1rem;font-family:inherit;color:var(--simcom-c-text);vertical-align:top;resize:none;background:none;border:none;outline-style:none}.simcom_2355b textarea::-webkit-scrollbar{width:6px;height:6px}.simcom_2355b textarea::-webkit-scrollbar-thumb{background-color:#9093994d;border-radius:8px}.simcom_2355b textarea::-webkit-scrollbar-track{background-color:transparent}.simcom_2355b textarea::placeholder{color:inherit;-webkit-user-select:none;user-select:none;opacity:.5}.simcom_2355b .simcom_a51b5{display:flex;justify-content:space-between;padding:.3rem .6rem;font-size:.875em}.simcom_09021{display:flex;width:100%;margin:.5em 0}.simcom_09021 .simcom_2355b{flex:1;margin-right:.6em}.simcom_09021 .simcom_2355b textarea{height:3rem}.simcom_09021 .simcom_9f906>div{height:100%}.simcom_09021 .simcom_9f906 button{height:100%}.simcom_0ff1a{cursor:pointer}.simcom_0ff1a:hover{color:var(--simcom-c-main)}.simcom-wrapper{--simcom-c-main: #048de9;--simcom-c-main-light: #4faff0;--simcom-c-hl-bg: rgba(4, 141, 233, .15);--simcom-c-textarea-bg: #fafafa;--simcom-c-btn-text: #fff;--simcom-c-text: #575757;--simcom-c-light: #7a7a7a;--simcom-c-heavy: #000;--simcom-c-border: #e2e2e2;position:relative;width:100%;overflow:hidden;font-size:14px;color:var(--simcom-c-text);animation:fade-in-up .6s .1s backwards}.simcom-wrapper .color-light{color:var(--simcom-c-light)}.simcom-wrapper .color-text{color:var(--simcom-c-text)}.simcom-wrapper .color-heavy{color:var(--simcom-c-heavy)}.simcom-wrapper .simcom-texteditor{margin-bottom:2em}@keyframes fade-in-up{0%{opacity:0;transform:translate3d(0,20px,0)}to{opacity:1;transform:translateZ(0)}}.simcom_e9dd1{filter:blur(1px);animation:simcom_7a67d 1.5s ease-in-out infinite}@keyframes simcom_7a67d{0%{opacity:.4}50%{opacity:1}to{opacity:.4}}')),document.head.append(e)}}();const t=Symbol("solid-proxy"),n=Symbol("solid-track"),o={equals:(e,t)=>e===t};let r=P;const i=1,c=2,s={owned:null,cleanups:null,context:null,owner:null};var a=null;let l=null,m=null,u=null,d=null,f=0;function g(e,t){const n=m,o=a,r=0===e.length,i=void 0===t?o:t,c=r?s:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?e:()=>e((()=>y((()=>L(c)))));a=c,m=null;try{return A(l,!0)}finally{m=n,a=o}}function p(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},o,t):o).equals||void 0};return[x.bind(n),e=>("function"==typeof e&&(e=e(n.value)),C(n,e))]}function v(e,t,n){k(O(e,t,!1,i))}function h(e,t,n){r=S;const o=O(e,t,!1,i);(!n||!n.render)&&(o.user=!0),d?d.push(o):k(o)}function b(e,t,n){n=n?Object.assign({},o,n):o;const r=O(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,k(r),x.bind(r)}function y(e){if(null===m)return e();const t=m;m=null;try{return e()}finally{m=t}}function _(){return m}function $(e){return a&&a.context&&void 0!==a.context[e.id]?a.context[e.id]:e.defaultValue}function w(e){const t=b(e),n=b((()=>D(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function x(){if(this.sources&&this.state)if(this.state===i)k(this);else{const e=u;u=null,A((()=>M(this)),!1),u=e}if(m){const e=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function C(e,t,n){let o=e.value;return(!e.comparator||!e.comparator(o,t))&&(e.value=t,e.observers&&e.observers.length&&A((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],o=l&&l.running;o&&l.disposed.has(n),(o?!n.tState:!n.state)&&(n.pure?u.push(n):d.push(n),n.observers&&I(n)),o||(n.state=i)}if(u.length>1e6)throw u=[],new Error}),!1)),t}function k(e){if(!e.fn)return;L(e);const t=a,n=m,o=f;m=a=e,function(e,t,n){let o;try{o=e.fn(t)}catch(t){return e.pure&&(e.state=i,e.owned&&e.owned.forEach(L),e.owned=null),e.updatedAt=n+1,N(t)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?C(e,o):e.value=o,e.updatedAt=n)}(e,e.value,o),m=n,a=t}function O(e,t,n,o=i,r){const c={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:a,context:a?a.context:null,pure:n};return null===a||a!==s&&(a.owned?a.owned.push(c):a.owned=[c]),c}function j(e){if(0===e.state)return;if(e.state===c)return M(e);if(e.suspense&&y(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<f);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===i)k(e);else if(e.state===c){const n=u;u=null,A((()=>M(e,t[0])),!1),u=n}}function A(e,t){if(u)return e();let n=!1;t||(u=[]),d?n=!0:d=[],f++;try{const t=e();return function(e){if(u&&(P(u),u=null),e)return;const t=d;d=null,t.length&&A((()=>r(t)),!1)}(n),t}catch(e){n||(d=null),u=null,N(e)}}function P(e){for(let t=0;t<e.length;t++)j(e[t])}function S(e){let t,n=0;for(t=0;t<e.length;t++){const o=e[t];o.user?e[n++]=o:j(o)}for(t=0;t<n;t++)j(e[t])}function M(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const o=e.sources[n];if(o.sources){const e=o.state;e===i?o!==t&&(!o.updatedAt||o.updatedAt<f)&&j(o):e===c&&M(o,t)}}}function I(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=c,n.pure?u.push(n):d.push(n),n.observers&&I(n))}}function L(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),o=t.observers;if(o&&o.length){const e=o.pop(),r=t.observerSlots.pop();n<o.length&&(e.sourceSlots[r]=n,o[n]=e,t.observerSlots[n]=r)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)L(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function N(e,t=a){throw function(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}(e)}function D(e){if("function"==typeof e&&!e.length)return D(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const o=D(e[n]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function T(e,t){return function(t){let n;return v((()=>n=y((()=>(a.context={...a.context,[e]:t.value},w((()=>t.children)))))),void 0),n}}const z=Symbol("fallback");function U(e){for(let t=0;t<e.length;t++)e[t]()}function E(e,t,o={}){let r=[],i=[],c=[],s=0,l=t.length>1?[]:null;return function(e){null===a||(null===a.cleanups?a.cleanups=[e]:a.cleanups.push(e))}((()=>U(c))),()=>{let a,m,u=e()||[];return u[n],y((()=>{let e,t,n,f,p,v,h,b,y,_=u.length;if(0===_)0!==s&&(U(c),c=[],r=[],i=[],s=0,l&&(l=[])),o.fallback&&(r=[z],i[0]=g((e=>(c[0]=e,o.fallback()))),s=1);else if(0===s){for(i=new Array(_),m=0;m<_;m++)r[m]=u[m],i[m]=g(d);s=_}else{for(n=new Array(_),f=new Array(_),l&&(p=new Array(_)),v=0,h=Math.min(s,_);v<h&&r[v]===u[v];v++);for(h=s-1,b=_-1;h>=v&&b>=v&&r[h]===u[b];h--,b--)n[b]=i[h],f[b]=c[h],l&&(p[b]=l[h]);for(e=new Map,t=new Array(b+1),m=b;m>=v;m--)y=u[m],a=e.get(y),t[m]=void 0===a?-1:a,e.set(y,m);for(a=v;a<=h;a++)y=r[a],m=e.get(y),void 0!==m&&-1!==m?(n[m]=i[a],f[m]=c[a],l&&(p[m]=l[a]),m=t[m],e.set(y,m)):c[a]();for(m=v;m<_;m++)m in n?(i[m]=n[m],c[m]=f[m],l&&(l[m]=p[m],l[m](m))):i[m]=g(d);i=i.slice(0,s=_),r=u.slice(0)}return i}));function d(e){if(c[m]=e,l){const[e,n]=p(m);return l[m]=n,t(u[m],e)}return t(u[m])}}}function H(e,t){return y((()=>e(t||{})))}let Y=0;function Z(){return"cl-"+Y++}const B=e=>`Stale read from <${e}>.`;function R(e){const t="fallback"in e&&{fallback:()=>e.fallback};return b(E((()=>e.each),e.children,t||void 0))}function F(e){const t=e.keyed,n=b((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return b((()=>{const o=n();if(o){const r=e.children;return"function"==typeof r&&r.length>0?y((()=>r(t?o:()=>{if(!y(n))throw B("Show");return e.when}))):r}return e.fallback}),void 0,void 0)}const G=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline","allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"]),q=new Set(["innerHTML","textContent","innerText","children"]),V=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Q=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});const W=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),J={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};const X="_$DX_DELEGATE";function K(e,t,n){let o;const r=()=>{const t=document.createElement("template");return t.innerHTML=e,n?t.content.firstChild.firstChild:t.content.firstChild},i=t?()=>y((()=>document.importNode(o||(o=r()),!0))):()=>(o||(o=r())).cloneNode(!0);return i.cloneNode=i,i}function ee(e,t=window.document){const n=t[X]||(t[X]=new Set);for(let o=0,r=e.length;o<r;o++){const r=e[o];n.has(r)||(n.add(r),t.addEventListener(r,se))}}function te(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ne(e,t){null==t?e.removeAttribute("class"):e.className=t}function oe(e,t={},n,o){const r={};return o||v((()=>r.children=ae(e,t.children,r.children))),v((()=>t.ref&&t.ref(e))),v((()=>function(e,t,n,o,r={},i=!1){t||(t={});for(const o in r)if(!(o in t)){if("children"===o)continue;r[o]=ce(e,o,null,r[o],n,i)}for(const c in t){if("children"===c){o||ae(e,t.children);continue}const s=t[c];r[c]=ce(e,c,s,r[c],n,i)}}(e,t,n,!0,r,!0))),r}function re(e,t,n,o){if(void 0!==n&&!o&&(o=[]),"function"!=typeof t)return ae(e,t,o,n);v((o=>ae(e,t(),o,n)),o)}function ie(e,t,n){const o=t.trim().split(/\s+/);for(let t=0,r=o.length;t<r;t++)e.classList.toggle(o[t],n)}function ce(e,t,n,o,r,i){let c,s,a,l,m;if("style"===t)return function(e,t,n){if(!t)return n?te(e,"style"):t;const o=e.style;if("string"==typeof t)return o.cssText=t;let r,i;for(i in"string"==typeof n&&(o.cssText=n=void 0),n||(n={}),t||(t={}),n)null==t[i]&&o.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(o.setProperty(i,r),n[i]=r);return n}(e,n,o);if("classList"===t)return function(e,t,n={}){const o=Object.keys(t||{}),r=Object.keys(n);let i,c;for(i=0,c=r.length;i<c;i++){const o=r[i];!o||"undefined"===o||t[o]||(ie(e,o,!1),delete n[o])}for(i=0,c=o.length;i<c;i++){const r=o[i],c=!!t[r];!r||"undefined"===r||n[r]===c||!c||(ie(e,r,!0),n[r]=c)}return n}(e,n,o);if(n===o)return o;if("ref"===t)i||n(e);else if("on:"===t.slice(0,3)){const r=t.slice(3);o&&e.removeEventListener(r,o),n&&e.addEventListener(r,n)}else if("oncapture:"===t.slice(0,10)){const r=t.slice(10);o&&e.removeEventListener(r,o,!0),n&&e.addEventListener(r,n,!0)}else if("on"===t.slice(0,2)){const r=t.slice(2).toLowerCase(),i=W.has(r);if(!i&&o){const t=Array.isArray(o)?o[0]:o;e.removeEventListener(r,t)}(i||n)&&(function(e,t,n,o){if(o)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=t=>o.call(e,n[1],t))}else e.addEventListener(t,n)}(e,r,n,i),i&&ee([r]))}else if("attr:"===t.slice(0,5))te(e,t.slice(5),n);else if((m="prop:"===t.slice(0,5))||(a=q.has(t))||!r&&((l=function(e,t){const n=Q[e];return"object"==typeof n?n[t]?n.$:void 0:n}(t,e.tagName))||(s=G.has(t)))||(c=e.nodeName.includes("-")))m&&(t=t.slice(5),s=!0),"class"===t||"className"===t?ne(e,n):!c||s||a?e[l||t]=n:e[function(e){return e.toLowerCase().replace(/-([a-z])/g,((e,t)=>t.toUpperCase()))}(t)]=n;else{const o=r&&t.indexOf(":")>-1&&J[t.split(":")[0]];o?function(e,t,n,o){null==o?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,o)}(e,o,t,n):te(e,V[t]||t,n)}return n}function se(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){const o=n[t];if(o&&!n.disabled){const r=n[`${t}Data`];if(void 0!==r?o.call(n,r,e):o.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ae(e,t,n,o,r){for(;"function"==typeof n;)n=n();if(t===n)return n;const i=typeof t,c=void 0!==o;if(e=c&&n[0]&&n[0].parentNode||e,"string"===i||"number"===i)if("number"===i&&(t=t.toString()),c){let r=n[0];r&&3===r.nodeType?r.data=t:r=document.createTextNode(t),n=ue(e,n,o,r)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===i)n=ue(e,n,o);else{if("function"===i)return v((()=>{let r=t();for(;"function"==typeof r;)r=r();n=ae(e,r,n,o)})),()=>n;if(Array.isArray(t)){const i=[],s=n&&Array.isArray(n);if(le(i,t,n,r))return v((()=>n=ae(e,i,n,o,!0))),()=>n;if(0===i.length){if(n=ue(e,n,o),c)return n}else s?0===n.length?me(e,i,o):function(e,t,n){let o=n.length,r=t.length,i=o,c=0,s=0,a=t[r-1].nextSibling,l=null;for(;c<r||s<i;)if(t[c]!==n[s]){for(;t[r-1]===n[i-1];)r--,i--;if(r===c){const t=i<o?s?n[s-1].nextSibling:n[i-s]:a;for(;s<i;)e.insertBefore(n[s++],t)}else if(i===s)for(;c<r;)(!l||!l.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[i-1]&&n[s]===t[r-1]){const o=t[--r].nextSibling;e.insertBefore(n[s++],t[c++].nextSibling),e.insertBefore(n[--i],o),t[r]=n[i]}else{if(!l){l=new Map;let e=s;for(;e<i;)l.set(n[e],e++)}const o=l.get(t[c]);if(null!=o)if(s<o&&o<i){let a,m=c,u=1;for(;++m<r&&m<i&&null!=(a=l.get(t[m]))&&a===o+u;)u++;if(u>o-s){const r=t[c];for(;s<o;)e.insertBefore(n[s++],r)}else e.replaceChild(n[s++],t[c++])}else c++;else t[c++].remove()}}else c++,s++}(e,n,i):(n&&ue(e),me(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(c)return n=ue(e,n,o,t);ue(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function le(e,t,n,o){let r=!1;for(let i=0,c=t.length;i<c;i++){let c,s=t[i],a=n&&n[i];if(null!=s&&!0!==s&&!1!==s)if("object"==(c=typeof s)&&s.nodeType)e.push(s);else if(Array.isArray(s))r=le(e,s,a)||r;else if("function"===c)if(o){for(;"function"==typeof s;)s=s();r=le(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||r}else e.push(s),r=!0;else{const t=String(s);a&&3===a.nodeType&&a.data===t?e.push(a):e.push(document.createTextNode(t))}}return r}function me(e,t,n=null){for(let o=0,r=t.length;o<r;o++)e.insertBefore(t[o],n)}function ue(e,t,n,o){if(void 0===n)return e.textContent="";const r=o||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const c=t[i];if(r!==c){const t=c.parentNode===e;o||i?t&&c.remove():t?e.replaceChild(r,c):e.insertBefore(r,n)}else o=!0}}else e.insertBefore(r,n);return[r]}const de=Symbol("store-raw"),fe=Symbol("store-node"),ge=Symbol("store-has"),pe=Symbol("store-self");function ve(e){let n=e[t];if(!n&&(Object.defineProperty(e,t,{value:n=new Proxy(e,we)}),!Array.isArray(e))){const t=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let r=0,i=t.length;r<i;r++){const i=t[r];o[i].get&&Object.defineProperty(e,i,{enumerable:o[i].enumerable,get:o[i].get.bind(n)})}}return n}function he(e){let n;return null!=e&&"object"==typeof e&&(e[t]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function be(e,t=new Set){let n,o,r,i;if(n=null!=e&&e[de])return n;if(!he(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,i=e.length;n<i;n++)r=e[n],(o=be(r,t))!==r&&(e[n]=o)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),c=Object.getOwnPropertyDescriptors(e);for(let s=0,a=n.length;s<a;s++)i=n[s],!c[i].get&&(r=e[i],(o=be(r,t))!==r&&(e[i]=o))}return e}function ye(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function _e(e,t,n){if(e[t])return e[t];const[o,r]=p(n,{equals:!1,internal:!0});return o.$=r,e[t]=o}function $e(e){_()&&_e(ye(e,fe),pe)()}const we={get(e,o,r){if(o===de)return e;if(o===t)return r;if(o===n)return $e(e),r;const i=ye(e,fe),c=i[o];let s=c?c():e[o];if(o===fe||o===ge||"__proto__"===o)return s;if(!c){const t=Object.getOwnPropertyDescriptor(e,o);_()&&("function"!=typeof s||e.hasOwnProperty(o))&&(!t||!t.get)&&(s=_e(i,o,s)())}return he(s)?ve(s):s},has:(e,o)=>o===de||o===t||o===n||o===fe||o===ge||"__proto__"===o||(_()&&_e(ye(e,ge),o)(),o in e),set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){return $e(e),Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,n){const o=Reflect.getOwnPropertyDescriptor(e,n);return!o||o.get||!o.configurable||n===t||n===fe||(delete o.value,delete o.writable,o.get=()=>e[t][n]),o}};function xe(e,t,n,o=!1){if(!o&&e[t]===n)return;const r=e[t],i=e.length;void 0===n?(delete e[t],e[ge]&&e[ge][t]&&void 0!==r&&e[ge][t].$()):(e[t]=n,e[ge]&&e[ge][t]&&void 0===r&&e[ge][t].$());let c,s=ye(e,fe);if((c=_e(s,t,r))&&c.$((()=>n)),Array.isArray(e)&&e.length!==i){for(let t=e.length;t<i;t++)(c=s[t])&&c.$();(c=_e(s,"length",i))&&c.$(e.length)}(c=s[pe])&&c.$()}function Ce(e,t){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const r=n[o];xe(e,r,t[r])}}function ke(e,t,n=[]){let o,r=e;if(t.length>1){o=t.shift();const i=typeof o,c=Array.isArray(e);if(Array.isArray(o)){for(let r=0;r<o.length;r++)ke(e,[o[r]].concat(t),n);return}if(c&&"function"===i){for(let r=0;r<e.length;r++)o(e[r],r)&&ke(e,[r].concat(t),n);return}if(c&&"object"===i){const{from:r=0,to:i=e.length-1,by:c=1}=o;for(let o=r;o<=i;o+=c)ke(e,[o].concat(t),n);return}if(t.length>1)return void ke(e[o],t,[o].concat(n));r=e[o],n=[o].concat(n)}let i=t[0];"function"==typeof i&&(i=i(r,n),i===r)||void 0===o&&null==i||(i=be(i),void 0===o||he(r)&&he(i)&&!Array.isArray(i)?Ce(r,i):xe(e,o,i))}function Oe(...[e,t]){const n=be(e||{}),o=Array.isArray(n);return[ve(n),function(...e){!function(e){A(e,!1)}((()=>{o&&1===e.length?function(e,t){if("function"==typeof t&&(t=t(e)),t=be(t),Array.isArray(t)){if(e===t)return;let n=0,o=t.length;for(;n<o;n++){const o=t[n];e[n]!==o&&xe(e,n,o)}xe(e,"length",o)}else Ce(e,t)}(n,e[0]):ke(n,e)}))}]}function je(){return{commentsOpt:{comments:[],pageCount:0,onPagiClick:()=>new Promise((e=>{e([])}))},editorOpt:{maxLength:500,placeHolder:"善意评论",onPost:()=>new Promise(((e,t)=>{t(new Error("没有设置OnPost配置项"))}))},userOpt:{user:{id:"",nickname:"",role:0,avatarUrl:""},onLogin(){},onLogout(){}},actionsOpt:{},loading:!1}}const Ae=function(e,t){const n=Symbol("context");return{id:n,Provider:T(n),defaultValue:e}}({state:je(),setComments:e=>{e([])},setLoading:e=>{console.warn(e)}});const Pe="object"==typeof global&&global&&global.Object===Object&&global;var Se="object"==typeof self&&self&&self.Object===Object&&self;const Me=(Pe||Se||Function("return this")()).Symbol;var Ie=Object.prototype,Le=Ie.hasOwnProperty,Ne=Ie.toString,De=Me?Me.toStringTag:void 0;var Te=Object.prototype.toString;var ze="[object Null]",Ue="[object Undefined]",Ee=Me?Me.toStringTag:void 0;function He(e){return null==e?void 0===e?Ue:ze:Ee&&Ee in Object(e)?function(e){var t=Le.call(e,De),n=e[De];try{e[De]=void 0;var o=!0}catch{}var r=Ne.call(e);return o&&(t?e[De]=n:delete e[De]),r}(e):function(e){return Te.call(e)}(e)}var Ye="[object Symbol]";var Ze=/\s/;var Be=/^\s+/;function Re(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&Ze.test(e.charAt(t)););return t}(e)+1).replace(Be,"")}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Ge=NaN,qe=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,Qe=/^0o[0-7]+$/i,We=parseInt;function Je(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&He(e)==Ye}(e))return Ge;if(Fe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Fe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Re(e);var n=Ve.test(e);return n||Qe.test(e)?We(e.slice(2),n?2:8):qe.test(e)?Ge:+e}var Xe=1/0,Ke=17976931348623157e292;function et(e){return e?(e=Je(e))===Xe||e===-Xe?(e<0?-1:1)*Ke:e==e?e:0:0===e?e:0}var tt="[object AsyncFunction]",nt="[object Function]",ot="[object GeneratorFunction]",rt="[object Proxy]";var it=9007199254740991,ct=/^(?:0|[1-9]\d*)$/;var st=9007199254740991;function at(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=st}(e.length)&&!function(e){if(!Fe(e))return!1;var t=He(e);return t==nt||t==ot||t==tt||t==rt}(e)}function lt(e,t,n){if(!Fe(n))return!1;var o=typeof t;return!!("number"==o?at(n)&&function(e,t){var n=typeof e;return!!(t=t??it)&&("number"==n||"symbol"!=n&&ct.test(e))&&e>-1&&e%1==0&&e<t}(t,n.length):"string"==o&&t in n)&&function(e,t){return e===t||e!=e&&t!=t}(n[t],e)}var mt=Math.ceil,ut=Math.max;var dt,ft=function(e,t,n){return n&&"number"!=typeof n&&lt(e,t,n)&&(t=n=void 0),e=et(e),void 0===t?(t=e,e=0):t=et(t),function(e,t,n,o){for(var r=-1,i=ut(mt((t-e)/(n||1)),0),c=Array(i);i--;)c[o?i:++r]=e,e+=n;return c}(e,t,n=void 0===n?e<t?1:-1:et(n),dt)};const gt=ft,pt={pagination:"simcom_ea2ea",disabled:"simcom_8679e","pagi-item":"simcom_3e9c3",active:"simcom_aa768",center:"simcom_041c1"},vt=K("<div>"),ht=K("<div>...");function bt(e){const[t,n]=p([]);return h((()=>{const t=e.maxPage?e.maxPage:7,o=t-4,r=o+2,i=Math.floor((o-1)/2);if(e.pageCount<=t){const t=gt(1,e.pageCount+1);n(t)}else if(e.currentPage<r){const t=gt(1,r+1).concat([0,e.pageCount]);n(t)}else if(e.currentPage>e.pageCount-r+1){const t=[1,0].concat(gt(e.pageCount-r+1,e.pageCount+1));n(t)}else{const t=[1,0].concat(gt(e.currentPage-(o-i-1),e.currentPage+i+1).concat([0,e.pageCount]));n(t)}})),H(F,{get when(){return e.pageCount>1},get children(){const n=vt();return re(n,H(R,{get each(){return t()},children:t=>H(F,{when:t>0,get fallback(){return(()=>{const e=ht();return v((()=>ne(e,`${pt["pagi-item"]} ${pt.disabled}`))),e})()},get children(){const n=vt();return n.$$click=()=>{e.onPagiClick(t)},re(n,t),v((()=>ne(n,`${pt["pagi-item"]} ${e.currentPage===t?pt.active:""}`))),n}})})),v((()=>ne(n,`${pt.pagination} ${e.disabled?pt.disabled:""}`))),n}})}function yt(e){const t=new Date(e),n=new Date(Date.now());let o=n.getFullYear()-t.getFullYear();return o>0?`${o}年前`:(o=n.getMonth()-t.getMonth(),o>0?`${o}个月前`:(o=n.getDate()-t.getDate(),o>0?`${o}天前`:(o=n.getHours()-t.getHours(),o>0?`${o}小时前`:(o=n.getMinutes()-t.getMinutes(),o>0?`${o}分钟前`:(o=n.getSeconds()-t.getSeconds(),o>0?`${o}秒前`:"刚刚")))))}ee(["click"]);const _t={icon:"simcom_cd28a"},$t=K("<div>"),wt=K('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 256 256"><path fill=currentColor d="M216 48h-40v-8a24 24 0 0 0-24-24h-48a24 24 0 0 0-24 24v8H40a8 8 0 0 0 0 16h8v144a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16V64h8a8 8 0 0 0 0-16ZM96 40a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v8H96Zm96 168H64V64h128Zm-80-104v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Zm48 0v64a8 8 0 0 1-16 0v-64a8 8 0 0 1 16 0Z">'),xt=K('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 4H5a2 2 0 0 0-2 2v15l3.467-2.6a2 2 0 0 1 1.2-.4H19a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z">'),Ct=K('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"><path fill=currentColor d="M5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h8.925l-2 2H5v14h14v-6.95l2-2V19q0 .825-.588 1.413T19 21H5Zm7-9Zm-3 3v-4.25l9.175-9.175q.3-.3.675-.45t.75-.15q.4 0 .763.15t.662.45L22.425 3q.275.3.425.663T23 4.4q0 .375-.138.738t-.437.662L13.25 15H9ZM21.025 4.4l-1.4-1.4l1.4 1.4ZM11 13h1.4l5.8-5.8l-.7-.7l-.725-.7L11 11.575V13Zm6.5-6.5l-.725-.7l.725.7l.7.7l-.7-.7Z">');function kt(e){return(()=>{const t=$t();return re(t,(()=>function(e,t="1em"){switch(e){case"comment":return H(jt,{width:t,height:t});case"delete":return H(Ot,{width:t,height:t,color:"red"});case"edit":return H(At,{width:t,height:t});default:return[]}}(e.icon,e.width))),v((()=>ne(t,_t.icon))),t})()}function Ot(e){return(()=>{const t=wt();return oe(t,e,!0,!0),t})()}function jt(e){return(()=>{const t=xt();return oe(t,e,!0,!0),t})()}function At(e){return(()=>{const t=Ct();return oe(t,e,!0,!0),t})()}const Pt={btn:"simcom_bd1eb",text:"simcom_269d2",active:"simcom_c0d40",disabled:"simcom_8289f",flat:"simcom_3b7ef",loading:"simcom_9a8c5","load-circle":"simcom_be443",circle:"simcom_5d03c"},St=K("<div>"),Mt=K("<button type=button>"),It=K("<span>");function Lt(e){return(()=>{const t=Mt();return t.$$click=t=>{e.disabled||e.loading||e.onClick&&e.onClick(t)},re(t,H(F,{get when(){return e.icon},get fallback(){return(()=>{const t=It();return re(t,(()=>e.label)),t})()},get children(){return H(kt,{get icon(){return e.icon||""}})}}),null),re(t,H(F,{get when(){return e.loading},get children(){const e=St();return v((()=>ne(e,`${Pt["load-circle"]}`))),e}}),null),v((n=>{const o=`${Pt.btn} ${e.active?Pt.active:""} ${e.disabled?Pt.disabled:""} ${e.flat?Pt.flat:""} ${e.text?Pt.text:""} ${e.loading?Pt.loading:""}  `,r=e.title;return o!==n._v$&&ne(t,n._v$=o),r!==n._v$2&&te(t,"title",n._v$2=r),n}),{_v$:void 0,_v$2:void 0}),t})()}function Nt(e){return H(Lt,e)}ee(["click"]);const Dt={"loading-mask":"simcom_b616f",load:"simcom_1684b","line-scale":"simcom_7e0fd"},Tt=K("<div><div><div></div><div></div><div></div><div></div><div>");function zt(){return(()=>{const e=Tt(),t=e.firstChild;return v((n=>{const o=Dt["loading-mask"],r=Dt.load;return o!==n._v$&&ne(e,n._v$=o),r!==n._v$2&&te(t,"id",n._v$2=r),n}),{_v$:void 0,_v$2:void 0}),e})()}const Ut={"comment-main":"simcom_f3564","comment-header":"simcom_f4af2",tag:"simcom_1b373","comment-extras":"simcom_ae87d","comment-content":"simcom_80091","comment-child":"simcom_b6675","one-comment":"simcom_da6a8","color-highlight":"simcom_19f43",avatar:"simcom_c41f1","light-text":"simcom_ada44",option:"simcom_e072d","one-reply":"simcom_3d8bd","reply-main":"simcom_80204",active:"simcom_9cef3","reply-wrapper":"simcom_94f53",loading:"simcom_b4e7a","click-text":"simcom_b10de",date:"simcom_192f0","open-wrapper":"simcom_a0deb",open:"simcom_4a1ca","fade-in":"simcom_e6503",fadein:"simcom_ab398"},Et=K('<div><img elementtiming=""fetchpriority=high alt=avatar>'),Ht="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2Ij48cGF0aCBmaWxsPSIjYzVjNWM1IiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48Y2lyY2xlIGN4PSIxMjcuNzUiIGN5PSIxMDkuNSIgcj0iNTYuNSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0yMjcuNTMgMjU2SDI4LjQ3YzMuMTMtNDAuNSAyMS45OC03NS4zMSA0OC45LTk0Ljk2YTMuNzQgMy43NCAwIDAgMSA0LjguMzIgNjUuMzYxIDY1LjM2MSAwIDAgMCA5MS4yMS0uMyAzLjc0MiAzLjc0MiAwIDAgMSA0LjgtLjM1YzI3LjE1IDE5LjU4IDQ2LjIgNTQuNTYgNDkuMzUgOTUuMjl6IiBmaWxsPSIjZmZmIi8+PC9zdmc+";function Yt(e){return(()=>{const t=Et(),n=t.firstChild;return n.addEventListener("error",(e=>{e.currentTarget.src=Ht,e.currentTarget.onerror=null})),v((o=>{const r=Ut.avatar,i=e.avatarUrl||Ht;return r!==o._v$&&ne(t,o._v$=r),i!==o._v$2&&te(n,"src",o._v$2=i),o}),{_v$:void 0,_v$2:void 0}),t})()}const Zt={"text-editor-wrapper":"simcom_7d147","editor-toolbar":"simcom_a61a1","btn-group":"simcom_e5b19","scom-textarea":"simcom_2355b",focus:"simcom_02ece","text-tools":"simcom_a51b5","reply-editor-wrapper":"simcom_09021","send-btn":"simcom_9f906","click-text":"simcom_0ff1a"},Bt=K("<div><div><textarea></textarea><div><div></div><div></div></div></div><div><div class=color-light></div><div>"),Rt=K("<span>"),Ft=K("<div><div><textarea></textarea><div><div></div><div></div></div></div><div>");function Gt(){const[e,t]=p(0),[n,o]=p(""),[r,i]=p(!1),[c,s]=p(!1),{state:a,setComments:l}=$(Ae),m=()=>a.userOpt.user.nickname.length>0?n().trim()?void 0:"请输入点什么吧":"请先登录";return(()=>{const u=Bt(),d=u.firstChild,f=d.firstChild,g=f.nextSibling,p=g.firstChild.nextSibling,h=d.nextSibling,b=h.firstChild,y=b.nextSibling;return f.addEventListener("blur",(()=>{s(!1)})),f.addEventListener("focus",(()=>{s(!0)})),f.$$input=e=>{o(e.target.value),t(e.target.value.length)},p.style.setProperty("opacity","0.7"),re(p,(()=>`${e()}/${a.editorOpt.maxLength}`)),re(b,H(qt,{})),re(y,H(F,{get when(){return 0===a.userOpt.user.nickname.length},get children(){return H(Nt,{flat:!0,label:"登录",type:"success",onClick:()=>{a.userOpt.onLogin()}})}}),null),re(y,H(Nt,{label:"提交",type:"primary",get loading(){return r()},onClick:()=>{m()||(i(!0),a.editorOpt.onPost(n()).then((e=>{e&&l((t=>[e,...t]))})).finally((()=>{i(!1)})))},get title(){return m()},get disabled(){return!!m()}}),null),v((e=>{const t=Zt["text-editor-wrapper"],n=`${Zt["scom-textarea"]} ${c()?Zt.focus:""}`,o=a.editorOpt.placeHolder,r=a.editorOpt.maxLength,i=Zt["text-tools"],s=Zt["editor-toolbar"],l=Zt["btn-group"];return t!==e._v$&&ne(u,e._v$=t),n!==e._v$2&&ne(d,e._v$2=n),o!==e._v$3&&te(f,"placeholder",e._v$3=o),r!==e._v$4&&te(f,"maxlength",e._v$4=r),i!==e._v$5&&ne(g,e._v$5=i),s!==e._v$6&&ne(h,e._v$6=s),l!==e._v$7&&ne(y,e._v$7=l),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),u})()}function qt(){const{state:e}=$(Ae),t=()=>e.userOpt.user.nickname.length>0;return[(()=>{const e=Rt();return re(e,(()=>t()?"欢迎你，":"您还没有登录，请")),e})(),(()=>{const n=Rt();return n.$$click=()=>{t()?e.userOpt.onLogout():e.userOpt.onLogin()},re(n,(()=>t()?e.userOpt.user.nickname:"登录")),v((()=>ne(n,Zt["click-text"]))),n})()]}function Vt(e){const[t,n]=p(0),[o,r]=p(""),[i,c]=p(!1),[s,a]=p(!1),{state:l}=$(Ae),m=()=>l.userOpt.user.nickname.length>0?o().trim()?void 0:"请输入点什么吧":"请先登录";return(()=>{const u=Ft(),d=u.firstChild,f=d.firstChild,g=f.nextSibling,p=g.firstChild.nextSibling,h=d.nextSibling;return f.addEventListener("blur",(()=>{a(!1)})),f.addEventListener("focus",(()=>{a(!0)})),f.$$input=e=>{r(e.target.value),n(e.target.value.length)},p.style.setProperty("opacity","0.7"),re(p,(()=>`${t()}/${l.editorOpt.maxLength}`)),re(h,H(Nt,{get label(){return e.label||"回复"},get title(){return m()},get loading(){return i()},type:"primary",onClick:()=>{m()||(c(!0),e.onPost(o()).finally((()=>{c(!1)})))},get disabled(){return!!m()}})),v((t=>{const n=Zt["reply-editor-wrapper"],o=`${Zt["scom-textarea"]} ${s()?Zt.focus:""}`,r=e.placeHolder||l.editorOpt.placeHolder,i=l.editorOpt.maxLength,c=Zt["text-tools"],a=Zt["send-btn"];return n!==t._v$8&&ne(u,t._v$8=n),o!==t._v$9&&ne(d,t._v$9=o),r!==t._v$10&&te(f,"placeholder",t._v$10=r),i!==t._v$11&&te(f,"maxlength",t._v$11=i),c!==t._v$12&&ne(g,t._v$12=c),a!==t._v$13&&ne(h,t._v$13=a),t}),{_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),v((()=>f.value=e.value)),u})()}ee(["input","click"]);const Qt=K("<div>");function Wt(e){return(()=>{const t=Qt();return re(t,H(F,{get when(){return e.show},get children(){return H(Vt,{get placeHolder(){return e.placeHolder||""},get value(){return e.value||""},get label(){return e.label},onPost:t=>e.onPost(t)})}})),v((()=>ne(t,`${Ut["open-wrapper"]} ${e.show?Ut.open:""}`))),t})()}const Jt=K("<span>@"),Xt=K("<div><div><div><div><div><div></div></div><div><span></span></div></div><div>"),Kt=K("<span>");function en(e){const{state:t}=$(Ae),n=Z(),o=()=>t.userOpt.user.nickname.length>0,[r,i]=p(!1),c=t.actionsOpt;return(()=>{const s=Xt(),a=s.firstChild,l=a.firstChild,m=l.firstChild,u=m.firstChild,d=u.firstChild,f=u.nextSibling,g=f.firstChild,p=m.nextSibling;return re(a,H(Yt,{get avatarUrl(){return e.comment.avatarUrl}}),l),l.style.setProperty("flex","1"),re(d,(()=>e.comment.nickname)),re(u,H(R,{get each(){return e.comment.tags},children:e=>(()=>{const t=Kt();return re(t,e),v((()=>ne(t,Ut.tag))),t})()}),null),re(u,H(F,{get when(){return e.comment.at},get children(){const t=Jt();return t.firstChild,t.style.setProperty("margin-left",".25em"),re(t,(()=>e.comment.at),null),v((()=>ne(t,Ut["light-text"]))),t}}),null),re(g,(()=>yt(e.comment.createdAt))),re(f,H(F,{get when(){return(t.userOpt.user.id===e.comment.userID||1===t.userOpt.user.role)&&c.onDel},get children(){return H(Nt,{icon:"delete",onClick:()=>{i(!0),t.actionsOpt.onDel(e.comment).finally((()=>{i(!1)}))},text:!0,get disabled(){return r()},title:"删除"})}}),null),re(f,H(Nt,{icon:"comment",onClick:()=>{e.replyID()!==n?e.setReplyID(n):e.setReplyID("")},text:!0,get active(){return e.replyID()===n},get disabled(){return!o()},get title(){return o()?void 0:"请先登录"}}),null),re(s,H(Wt,{get show(){return e.replyID()===n},placeHolder:"写下回复",onPost:t=>e.onPost(t).then((t=>{t&&e.setReplyID("")}))}),null),v((t=>{const o=`${Ut["one-reply"]} ${Ut["fade-in"]}`,r=Ut["reply-main"],i=Ut["comment-header"],c=Ut["color-highlight"],l=`${Ut.option} ${e.replyID()===n?Ut.active:""}`,u=Ut["light-text"],v=Ut["comment-content"],h=e.comment.content;return o!==t._v$&&ne(s,t._v$=o),r!==t._v$2&&ne(a,t._v$2=r),i!==t._v$3&&ne(m,t._v$3=i),c!==t._v$4&&ne(d,t._v$4=c),l!==t._v$5&&ne(f,t._v$5=l),u!==t._v$6&&ne(g,t._v$6=u),v!==t._v$7&&ne(p,t._v$7=v),h!==t._v$8&&(p.innerHTML=t._v$8=h),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),s})()}const tn=K("<div>"),nn=K("<div><div><div><div><div></div><div></div></div><div></div></div><div></div><div>"),on=K("<span>"),rn=K("<div><span>共有<!>条评论，</span><span>查看全部"),[cn,sn]=p("");function an(e){const[t,n]=p([]),{state:o}=$(Ae),r=()=>o.userOpt.user.nickname.length>0,[i,c]=p(!1);h((()=>{n(e.comment.children)}));const s=Z();return(()=>{const a=nn(),l=a.firstChild,m=l.firstChild,u=m.firstChild,d=u.firstChild,f=d.nextSibling,g=u.nextSibling,p=m.nextSibling,h=p.nextSibling;return re(a,H(Yt,{get avatarUrl(){return e.comment.avatarUrl}}),l),d.style.setProperty("font-size","1.2em"),d.style.setProperty("font-weight","bold"),re(d,(()=>e.comment.nickname)),re(u,H(R,{get each(){return e.comment.tags},children:e=>(()=>{const t=on();return re(t,e),v((()=>ne(t,Ut.tag))),t})()}),f),re(f,(()=>yt(e.comment.createdAt))),re(g,H(F,{get when(){return(o.userOpt.user.id===e.comment.userID||1===o.userOpt.user.role)&&o.actionsOpt.onDel},get children(){return H(Nt,{icon:"delete",onClick:()=>{c(!0),o.actionsOpt.onDel(e.comment).finally((()=>{c(!1)}))},text:!0,get disabled(){return i()},title:"删除"})}}),null),re(g,H(Nt,{icon:"comment",onClick:()=>{r()&&cn()!==s?cn()===s?sn(""):sn(s):sn("")},text:!0,get active(){return cn()===s},get disabled(){return!r()},get title(){return r()?void 0:"请先登录"}}),null),re(h,H(R,{get each(){return e.comment.extras},children:e=>(()=>{const t=on();return re(t,e),t})()})),re(l,H(Wt,{get show(){return cn()===s},onPost:t=>o.editorOpt.onPost(t,e.comment).then((e=>{e&&(n((t=>[e,...t])),sn(""))}))}),null),re(l,H(F,{get when(){return t().length>0},get children(){const r=tn();return re(r,H(ln,{get replys(){return t()},get total(){return e.comment.replyCount},onPagiClick:t=>e.onPagiClick(t,e.comment).then((e=>e&&e.length>0?(n(e),e):[])),onPost:(t,r)=>o.editorOpt.onPost(t,e.comment,r).then((e=>!!e&&(n((t=>[e,...t])),!0)))})),v((()=>ne(r,Ut["comment-child"]))),r}}),null),v((t=>{const n=`${Ut["one-comment"]} ${Ut["fade-in"]}`,o=Ut["comment-main"],r=Ut["comment-header"],i=Ut["color-highlight"],c=Ut.date,s=function(e){const t=new Date(e);return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}(e.comment.createdAt),u=Ut.option,v=Ut["comment-content"],b=e.comment.content,y=Ut["comment-extras"];return n!==t._v$&&ne(a,t._v$=n),o!==t._v$2&&ne(l,t._v$2=o),r!==t._v$3&&ne(m,t._v$3=r),i!==t._v$4&&ne(d,t._v$4=i),c!==t._v$5&&ne(f,t._v$5=c),s!==t._v$6&&te(f,"title",t._v$6=s),u!==t._v$7&&ne(g,t._v$7=u),v!==t._v$8&&ne(p,t._v$8=v),b!==t._v$9&&(p.innerHTML=t._v$9=b),y!==t._v$10&&ne(h,t._v$10=y),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0}),a})()}function ln(e){const[t,n]=p(!1),[o,r]=p(0),[i,c]=p(0),[s,a]=p(!1);return[(()=>{const t=tn();return re(t,H(F,{get when(){return s()},get children(){return H(zt,{})}}),null),re(t,H(R,{get each(){return e.replys},children:t=>H(en,{comment:t,onPost:n=>e.onPost(n,t),replyID:cn,setReplyID:sn})}),null),v((()=>ne(t,`${Ut["reply-wrapper"]} ${s()?Ut.loading:""}`))),t})(),H(F,{get when(){return b((()=>e.total>e.replys.length))()&&!t()},get children(){const t=rn(),o=t.firstChild,i=o.firstChild.nextSibling;i.nextSibling;const s=o.nextSibling;return re(o,(()=>e.total),i),s.$$click=()=>{a(!0);const t=e.total;e.onPagiClick(1).then((e=>{e.length>0&&(r(1),c(Math.ceil(t/e.length)),n(!0))})).finally((()=>{a(!1)}))},v((e=>{const n=Ut["light-text"],o=Ut["click-text"];return n!==e._v$11&&ne(t,e._v$11=n),o!==e._v$12&&ne(s,e._v$12=o),e}),{_v$11:void 0,_v$12:void 0}),t}}),H(F,{get when(){return t()},get children(){const t=tn();return re(t,H(bt,{get disabled(){return s()},get pageCount(){return i()},get currentPage(){return o()},onPagiClick:t=>{a(!0),e.onPagiClick(t).then((()=>{r(t)})).finally((()=>{a(!1)}))}})),v((()=>ne(t,Ut["light-text"]))),t}})]}ee(["click"]);const mn=K("<div>"),un=K("<div>暂无评论,快来抢沙发吧");function dn(e){const[t,n]=p(1),[o,r]=p([]);h((()=>{r(e.comments)}));const{state:i,setLoading:c}=$(Ae);return(()=>{const s=mn();return s.style.setProperty("min-height","10rem"),re(s,H(R,{get each(){return o()},get fallback(){return H(fn,{})},children:t=>H(an,{comment:t,get onPagiClick(){return e.onPagiClick}})}),null),re(s,H(bt,{get disabled(){return i.loading},get pageCount(){return e.pageCount},get currentPage(){return t()},onPagiClick:t=>{c(!0),e.onPagiClick(t).then((e=>{e&&e.length>0&&(r(e),n(t))})).finally((()=>{c(!1)}))}}),null),s})()}function fn(){const{state:e}=$(Ae);return(()=>{const t=un();return t.style.setProperty("display","flex"),t.style.setProperty("height","6em"),t.style.setProperty("justify-content","center"),t.style.setProperty("align-items","center"),t.style.setProperty("transition","all 0.3s"),v((()=>null!=(e.loading?0:.6)?t.style.setProperty("opacity",e.loading?0:.6):t.style.removeProperty("opacity"))),t})()}const gn="simcom_e9dd1",pn=K("<div class=simcom-wrapper><div class=simcom-texteditor></div><div><div>"),vn=e=>{const{state:t}=$(Ae);return(()=>{const n=pn(),o=n.firstChild,r=o.nextSibling,i=r.firstChild;return re(o,H(Gt,{})),r.style.setProperty("position","relative"),re(i,H(dn,{get comments(){return t.commentsOpt.comments},get onPagiClick(){return t.commentsOpt.onPagiClick},get pageCount(){return t.commentsOpt.pageCount}})),re(r,H(F,{get when(){return e.loading},get children(){return H(zt,{})}}),null),v((()=>ne(i,e.loading?gn:void 0))),n})()};function hn(e){return function(e){const[t,n]=Oe(je()),o=e=>{const o=e([...t.commentsOpt.comments]);n((e=>({commentsOpt:{comments:o,onPagiClick:e.commentsOpt.onPagiClick,pageCount:e.commentsOpt.pageCount}})))},r=e=>{n((()=>({loading:e})))};let i=!1;const c=e=>{if(e){if(e.commentsOpt){const t=e.commentsOpt;n((e=>({commentsOpt:{comments:t.comments||e.commentsOpt.comments,onPagiClick:t.onPagiClick||e.commentsOpt.onPagiClick,pageCount:t.pageCount||e.commentsOpt.pageCount}})))}if(e.userOpt){const t=e.userOpt;n((e=>({userOpt:{user:t.user||e.userOpt.user,onLogin:t.onLogin||e.userOpt.onLogin,onLogout:t.onLogout||e.userOpt.onLogout}})))}if(e.editorOpt){const t=e.editorOpt;n((e=>({editorOpt:{placeHolder:t.placeHolder||e.editorOpt.placeHolder,maxLength:t.maxLength||e.editorOpt.maxLength,onPost:t.onPost||e.editorOpt.onPost}})))}if(e.actionsOpt){const t=e.actionsOpt;n((e=>({actionsOpt:{onDel:t.onDel||e.actionsOpt.onDel,onEdit:t.onEdit||e.actionsOpt.onEdit}})))}}};return{loading:{start(){r(!0)},close(){r(!1)},status:()=>t.loading},init:n=>{i?console.warn("simcom","阻止了重复的初始化行为，请不要重复初始化"):(n&&c(n),i=!0,e.innerHTML="",function(e,t,n,o={}){let r;g((o=>{r=o,t===document?e():re(t,e(),t.firstChild?null:void 0,n)}),o.owner)}((()=>H(Ae.Provider,{value:{state:t,setComments:o,setLoading:r},get children(){return H(vn,{get loading(){return t.loading}})}})),e))},setUser(e){if(e){const t=Object.assign({id:"",avatarUrl:"",nickname:"",role:2},e);n((e=>({userOpt:{user:t,onLogin:e.userOpt.onLogin,onLogout:e.userOpt.onLogout}})))}else this.setUser({})},setData(e){n(e?t=>({commentsOpt:{comments:e,pageCount:t.commentsOpt.pageCount,onPagiClick:t.commentsOpt.onPagiClick}}):e=>({commentsOpt:{comments:[],pageCount:e.commentsOpt.pageCount,onPagiClick:e.commentsOpt.onPagiClick}}))},config:c}}(e)}const bn=e=>`${e.replace(/\/?$/,"/")}api/`,yn=(e,t="")=>{if("object"==typeof e&&e.errno)throw new TypeError(`${t} failed with ${e.errno}: ${e.errmsg}`);return e},_n=({serverURL:e,lang:t,path:n,page:o,pageSize:r,sortBy:i,signal:c,token:s})=>{const a={};return s&&(a.Authorization=`Bearer ${s}`),fetch(`${bn(e)}comment?path=${encodeURIComponent(n)}&pageSize=${r}&page=${o}&lang=${t}&sortBy=${i}`,{signal:c,headers:a}).then((e=>e.json())).then((e=>yn(e,"Get comment data").data))},$n=({serverURL:e,lang:t,token:n,comment:o})=>{const r={"Content-Type":"application/json"};return n&&(r.Authorization=`Bearer ${n}`),fetch(`${bn(e)}comment?lang=${t}`,{method:"POST",headers:r,body:JSON.stringify(o)}).then((e=>e.json()))},wn=({serverURL:e,lang:t,token:n,objectId:o})=>fetch(`${bn(e)}comment/${o}?lang=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}}).then((e=>e.json())).then((e=>yn(e,"Delete comment"))),xn=({lang:e,serverURL:t})=>{const n=(window.innerWidth-450)/2,o=(window.innerHeight-450)/2,r=window.open(`${t.replace(/\/$/,"")}/ui/login?lng=${encodeURIComponent(e)}`,"_blank",`width=450,height=450,left=${n},top=${o},scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`);return r?.postMessage({type:"TOKEN",data:null},"*"),new Promise((e=>{const t=({data:n})=>{!n||"object"!=typeof n||"userInfo"!==n.type||n.data.token&&(r?.close(),window.removeEventListener("message",t),e(n.data))};window.addEventListener("message",t)}))};function Cn(e){const t=[];return e.type&&"administrator"===e.type&&t.push("博主"),e.label&&t.push(...e.label.split(",")),t}function kn(e){const t=[];return e.addr&&t.push(e.addr),e.browser&&t.push(e.browser),e.os&&t.push(e.os),{tags:Cn(e),userID:`${e.user_id}`||"nouser",extras:t,nickname:e.nick,avatarUrl:e.avatar,content:e.orig,createdAt:e.time,replyCount:e.children.length,children:e.children?e.children.slice(0,3).map((e=>On(e))):[],storedData:{id:e.objectId,userID:e.user_id}}}function On(e){let t=e.orig;const n=/^\[@([^)]+)]\([^)]*\): /,o=n.exec(t);let r;return o&&(t=t.replace(n,""),r=o[1]),{at:r,userID:`${e.user_id}`||"nouser",tags:Cn(e),nickname:e.nick,avatarUrl:e.avatar,content:t,createdAt:e.time,replyCount:0,children:[],storedData:{id:e.objectId}}}const jn=new Map,An={lang:"zh-CN",serverURL:window.JUSTY_CONFIG.COMMENT_CONFIG.waline?.serverURL},Pn=e.Gmal;async function Sn(e,t){const n=await _n({...An,path:e,page:t||1,pageSize:8,sortBy:"insertedAt_desc"});return n.data.forEach((e=>{var t,n;e.children&&(t=e.objectId,n=e.children.map((e=>On(e))),jn.clear(),jn.set(t,n))})),{total:n.count,comments:n.data.map((e=>kn(e))),pageCount:n.totalPages}}function Mn(){const e=localStorage.getItem("waline_user");return e?JSON.parse(e):null}function In(e){return{id:`${e.objectId}`,nickname:e.display_name,role:"administrator"===e.type?1:2,avatarUrl:e.avatar}}return function(t,n){if(!window.JUSTY_CONFIG.COMMENT_CONFIG.waline?.serverURL)return;const o=hn(t),r=Mn(),i=(e=1)=>{o.loading.status()||(o.loading.start(),Sn(n,e).then((e=>{0!==e.total&&null!==e.comments&&(o.setData(e.comments),o.config({commentsOpt:{pageCount:e.pageCount,async onPagiClick(e,t){if(t){const n=await function(e,t){return jn.get(e)?.slice(6*(t-1),6*t)||[]}(t.storedData.id,e);if(n)return n}else{const t=await Sn(n,e);if(t.comments)return t.comments}return[]}}}))})).finally((()=>{o.loading.close()})))};o.init({editorOpt:{maxLength:200,placeHolder:"评论需谨慎",async onPost(t,o,r){const i=await async function(t){const n=Mn();if(!n)return Pn.notice("请先登录","error"),null;const o=t.parentComment?.nickname;o&&t.parentComment?.storedData?.userID!==n.objectId&&(t.content=`[@${o}](): ${t.content}`);const r=await e.userAgent(),i=await $n({...An,token:n.token,comment:{comment:t.content,ua:r,url:t.article_id,nick:n.display_name,link:n.url,mail:n.email,rid:t.rootComment?.storedData?.id,pid:t.parentComment?.storedData?.id||t.rootComment?.storedData?.id}});return i.data?t.rootComment?On({rid:"",pid:"",...i.data}):kn({sticky:!1,children:[],...i.data}):null}({content:t,article_id:n,rootComment:o,parentComment:r});return i}},userOpt:{user:r?In(r):void 0,onLogin(){(async function(){const e=await xn({...An});return e?.avatar&&localStorage.setItem("waline_user",JSON.stringify(e)),e})().then((e=>{o.setUser(In(e))}))},onLogout(){localStorage.removeItem("waline_user"),o.setUser()}},actionsOpt:{async onDel(e){const t=await async function(e){const t=Pn.message("删除中...","loading"),n=await wn({...An,token:Mn()?.token||"",objectId:e.storedData.id});return t.close(1).then((()=>{0===n.errno?Pn.message("删除成功","success"):Pn.message(`删除失败: ${n.errmsg}`,"error")})),0===n.errno}(e);t&&i()}}}),i()}}(BlogUtils);
